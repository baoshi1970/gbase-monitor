# GBase Monitor 项目初始化操作手顺

## 概述

本文档记录了 GBase Monitor 项目从零开始创建和配置的完整操作流程。

## 项目技术栈

- **前端框架：** React 19.1.1
- **开发语言：** TypeScript
- **构建工具：** Vite 7.1.1
- **样式框架：** Tailwind CSS 4.1.11
- **UI组件库：** Ant Design 5.26.7
- **代码规范：** ESLint + Prettier

## 操作步骤

### 1. 初始化 React + TypeScript 项目

```bash
# 创建 React TypeScript 项目（由于目录不为空，需要通过临时目录）
npm create vite@latest temp-project -- --template react-ts

# 移动文件到当前目录
cp -r temp-project/* . && rm -rf temp-project

# 安装项目依赖
npm install
```

### 2. 配置 Tailwind CSS

```bash
# 安装 Tailwind CSS 及相关依赖
npm install tailwindcss postcss autoprefixer @types/node -D

# 安装 Tailwind CSS PostCSS 插件
npm install @tailwindcss/postcss -D
```

#### 创建配置文件

**tailwind.config.js:**
```javascript
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

**postcss.config.js:**
```javascript
export default {
  plugins: {
    '@tailwindcss/postcss': {},
    autoprefixer: {},
  },
}
```

#### 配置样式文件

**src/index.css:**
```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

### 3. 集成 Ant Design

```bash
# 安装 Ant Design 和图标库
npm install antd @ant-design/icons
```

### 4. 设置代码规范工具

```bash
# 安装 Prettier
npm install prettier -D
```

#### 创建 Prettier 配置文件

**.prettierrc:**
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false
}
```

#### 更新 package.json 脚本

```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "lint": "eslint .",
    "preview": "vite preview",
    "format": "prettier --write \"src/**/*.{ts,tsx,js,jsx,json,css,md}\"",
    "format:check": "prettier --check \"src/**/*.{ts,tsx,js,jsx,json,css,md}\""
  }
}
```

### 5. 创建项目目录结构

```bash
# 创建基础目录结构
mkdir -p src/components src/pages src/hooks src/services src/utils src/types src/assets/images src/assets/icons src/styles
```

#### 目录说明

```
src/
├── components/     # 可复用组件
├── pages/         # 页面组件  
├── hooks/         # 自定义 hooks
├── services/      # API 服务层
├── utils/         # 工具函数
├── types/         # TypeScript 类型定义
├── assets/        # 静态资源
│   ├── images/    # 图片文件
│   └── icons/     # 图标文件
└── styles/        # 样式文件
```

### 6. 创建基础文件

#### 类型定义文件

**src/types/common.ts:**
```typescript
export interface BaseResponse<T = any> {
  code: number;
  message: string;
  data: T;
}

export interface PaginationParams {
  page: number;
  pageSize: number;
}

export interface PaginationResponse<T = any> extends BaseResponse {
  data: {
    list: T[];
    total: number;
    page: number;
    pageSize: number;
  };
}
```

**src/types/api.ts:**
```typescript
export interface LoginRequest {
  username: string;
  password: string;
}

export interface User {
  id: number;
  username: string;
  email: string;
  role: string;
}
```

**src/types/index.ts:**
```typescript
export * from './api';
export * from './common';
```

#### 工具函数文件

**src/utils/constants.ts:**
```typescript
export const API_BASE_URL =
  import.meta.env.VITE_API_BASE_URL || 'http://localhost:3000';

export const ROUTES = {
  HOME: '/',
  LOGIN: '/login',
  DASHBOARD: '/dashboard',
} as const;
```

**src/utils/request.ts:**
```typescript
import { BaseResponse } from '../types';

export class ApiClient {
  private baseURL: string;

  constructor(baseURL: string) {
    this.baseURL = baseURL;
  }

  async request<T = any>(
    endpoint: string,
    options: RequestInit = {}
  ): Promise<BaseResponse<T>> {
    const url = `${this.baseURL}${endpoint}`;

    const response = await fetch(url, {
      headers: {
        'Content-Type': 'application/json',
        ...options.headers,
      },
      ...options,
    });

    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    return response.json();
  }

  async get<T = any>(endpoint: string): Promise<BaseResponse<T>> {
    return this.request<T>(endpoint);
  }

  async post<T = any>(endpoint: string, data?: any): Promise<BaseResponse<T>> {
    return this.request<T>(endpoint, {
      method: 'POST',
      body: data ? JSON.stringify(data) : undefined,
    });
  }
}
```

**src/utils/index.ts:**
```typescript
export * from './request';
export * from './constants';
```

### 7. 整理项目文档

```bash
# 创建文档目录
mkdir doc

# 移动所有文档文件到 doc 目录
mv "GBase_API_接口需求清单.md" "GBase_API_实施方案_匹配分析.md" \
   "GBase_技术栈_推荐方案.md" "GBase系统监控和统计后台 (PRD初稿).docx" \
   "GBase系统监控和统计后台PRD优化版.md" "第一阶段开发计划_Claude_Code版.md" \
   "项目开发计划.md" "README.md" "gbase_doc_api.txt" "prompt.txt" \
   "project-plan.html" doc/
```

### 8. 代码格式化

```bash
# 格式化所有代码文件
npm run format
```

### 9. 启动开发服务器

```bash
npm run dev
```

## 常用命令

```bash
# 开发
npm run dev              # 启动开发服务器
npm run build           # 构建生产版本
npm run preview         # 预览生产版本

# 代码质量
npm run lint            # ESLint 代码检查
npm run format          # Prettier 代码格式化
npm run format:check    # 检查代码格式
```

## 注意事项

1. **PostCSS 配置：** Tailwind CSS 4.x 需要使用 `@tailwindcss/postcss` 插件
2. **端口冲突：** 如果 5173 端口被占用，Vite 会自动选择其他端口
3. **文档管理：** 所有项目文档统一存放在 `doc/` 目录下
4. **代码规范：** 使用 ESLint + Prettier 确保代码质量和风格一致性

## 项目信息

- **项目名称：** gbase-monitor
- **创建时间：** 2025-08-08
- **Node.js 版本：** 建议使用 18.x 或更高版本
- **包管理器：** npm

---

*此文档记录了项目初始化的完整过程，便于后续开发和维护参考。*