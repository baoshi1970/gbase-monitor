# 数据对接共识检查清单

## 优先级说明
- 🔴 **P0 - 立即讨论**：影响核心架构和业务逻辑，必须在开发前确定
- 🟡 **P1 - 重要讨论**：影响实施计划和系统性能，需要在开发中期确定  
- 🟢 **P2 - 后续细化**：运维和优化相关，可在实施过程中逐步确定

---

## 1. 核心业务定义共识 🔴

| 事项 | 需要确认的问题 | 选择项A | 选择项B | 选择项C | 当前建议 | 决策结果 |
|------|----------------|---------|---------|---------|----------|----------|
| **有效Session判定** | 点踩vs点赞优先级？<br>转人工是否算无效？<br>系统错误范围定义？ | 严格按文档<br>（点踩>点赞） | 允许点赞<br>挽回点踩 | 人工审核<br>灰色地带 | 选择A | ⬜ 待确认 |
| **Session解决率计算** | 跨月Session归属？<br>进行中Session处理？<br>多轮对话解决判定时点？ | 按开始时间<br>归属月份 | 按结束时间<br>归属月份 | 按最后消息<br>时间归属 | 选择B | ⬜ 待确认 |

## 2. 技术实现方案共识 🔴

| 事项 | 需要确认的问题 | 选择项A | 选择项B | 选择项C | 当前建议 | 决策结果 |
|------|----------------|---------|---------|---------|----------|----------|
| **数据处理方式** | GBaseSupport提供数据程度？<br>处理责任边界？ | 提供轻度<br>加工数据 | 仅提供<br>原始数据 | 混合方案<br>部分加工 | 选择A | ⬜ 待确认 |
| **API设计规范** | 接口URL规范？<br>数据格式标准？<br>分页和错误码？ | RESTful API<br>/api/v1/sessions | GraphQL<br>查询方式 | 自定义RPC<br>风格 | 选择A | ⬜ 待确认 |

## 3. 数据同步策略共识 🟡

| 事项 | 需要确认的问题 | 选择项A | 选择项B | 选择项C | 当前建议 | 决策结果 |
|------|----------------|---------|---------|---------|----------|----------|
| **同步频率** | 实时数据延迟容忍度？<br>历史数据回填范围？ | 5分钟同步<br>（高实时性） | 15分钟同步<br>（平衡方案） | 30分钟同步<br>（低负载） | 选择B | ⬜ 待确认 |
| **历史数据同步** | 增量vs全量？<br>同步时间窗口？ | 每小时<br>增量同步 | 每日<br>全量同步 | 按需<br>手动同步 | 选择A | ⬜ 待确认 |
| **数据存储策略** | 监控平台存储责任？<br>数据保留策略？ | 仅缓存<br>不长期存储 | 维护独立<br>数据副本 | 混合存储<br>热冷分离 | 选择C | ⬜ 待确认 |

## 4. 安全和权限共识 🟡

| 事项 | 需要确认的问题 | 选择项A | 选择项B | 选择项C | 当前建议 | 决策结果 |
|------|----------------|---------|---------|---------|----------|----------|
| **API访问控制** | 认证方式？<br>权限级别划分？<br>IP限制？ | API Key +<br>IP白名单 | OAuth 2.0<br>标准认证 | JWT + 双因素<br>认证 | 选择A | ⬜ 待确认 |
| **数据脱敏程度** | 用户ID处理？<br>企业信息范围？<br>对话内容传输？ | 最小化<br>仅统计数据 | 部分脱敏<br>ID哈希化 | 保留详情<br>便于分析 | 选择B | ⬜ 待确认 |

## 5. 实施和测试共识 🟡

| 事项 | 需要确认的问题 | 选择项A | 选择项B | 选择项C | 当前建议 | 决策结果 |
|------|----------------|---------|---------|---------|----------|----------|
| **测试策略** | 测试环境准备？<br>联调时间安排？ | 沙箱环境<br>测试 | 生产小流量<br>测试 | 模拟数据<br>测试 | 选择A | ⬜ 待确认 |
| **实施计划** | MVP功能范围？<br>迭代时间节点？<br>兼容性要求？ | 一次性<br>全功能上线 | 分阶段<br>逐步实施 | 并行开发<br>统一上线 | 选择B | ⬜ 待确认 |

## 6. 性能和运维共识 🟢

| 事项 | 需要确认的问题 | 选择项A | 选择项B | 选择项C | 当前建议 | 决策结果 |
|------|----------------|---------|---------|---------|----------|----------|
| **系统负载控制** | 负载承受能力？<br>高峰期限制？<br>降级策略？ | 固定QPS<br>限制 | 动态限流<br>根据负载 | 错峰访问<br>避开高峰 | 选择B | ⬜ 待确认 |
| **监控报警** | API可用性监控？<br>数据质量异常处理？<br>紧急联系机制？ | 双方独立<br>监控 | 共享监控<br>平台 | 分层监控<br>接口+数据 | 选择C | ⬜ 待确认 |

## 7. 沟通协调机制 🟢

| 事项 | 需要确认的问题 | 选择项A | 选择项B | 选择项C | 当前建议 | 决策结果 |
|------|----------------|---------|---------|---------|----------|----------|
| **项目沟通** | 会议频率？<br>问题升级机制？<br>文档维护责任？ | 每周定期<br>会议 | 双周进度<br>同步 | 里程碑驱动<br>沟通 | 选择A | ⬜ 待确认 |

---

## 决策记录模板

### 会议信息
- **会议时间**：[待填写]
- **参会人员**：[待填写]
- **会议主持**：[待填写]

### 决策摘要
| 序号 | 事项 | 最终决策 | 决策理由 | 后续行动 | 负责人 | 截止时间 |
|------|------|----------|----------|----------|--------|----------|
| 1 | 有效Session判定 | [待填写] | [待填写] | [待填写] | [待填写] | [待填写] |
| 2 | 数据处理方式 | [待填写] | [待填写] | [待填写] | [待填写] | [待填写] |
| 3 | API设计规范 | [待填写] | [待填写] | [待填写] | [待填写] | [待填写] |
| ... | ... | ... | ... | ... | ... | ... |

### 悬而未决事项
| 事项 | 当前状态 | 阻塞原因 | 预计解决时间 | 负责人 |
|------|----------|----------|-------------|--------|
| [待填写] | [待填写] | [待填写] | [待填写] | [待填写] |

### 风险识别
| 风险项 | 影响程度 | 发生概率 | 应对措施 | 负责人 |
|--------|----------|----------|----------|--------|
| [待填写] | [高/中/低] | [高/中/低] | [待填写] | [待填写] |

---

**文档版本**：v1.0  
**创建日期**：2025-01-15  
**最后更新**：[待更新]  
**下次评审**：[待安排]